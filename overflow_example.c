#include <stdio.h>
#include <string.h>
#include <stdlib.h>

int main(int argc, char *argv[]) {

    int value = 5;
    char buffer_one[8], buffer_two[8];

    if(argc < 2) {
        printf("Usage: %s <data>\n", argv[0]);
        exit(0);
    }
    else {
        strcpy(buffer_one, "one");
        strcpy(buffer_two, "two?");

        printf("[BEFORE] buffer_two is set @ %p and contains \'%s\'\n", buffer_two, buffer_two);
        printf("[BEFORE] buffer_one is set @ %p and contains \'%s\'\n", buffer_one, buffer_one);
        printf("[BEFORE] value is @ %p and is %d (0x%08x)\n", &value, value, value);

        printf("\n[STRCPY] copying %d bytes into buffer_two\n\n", strlen(argv[1]));
        strcpy(buffer_two, argv[1]);

        printf("[AFTER] buffer_two is set @ %p and contains \'%s\'\n", buffer_two, buffer_two);
        printf("[AFTER] buffer_one is set @ %p and contains \'%s\'\n", buffer_one, buffer_one);
        printf("[AFTER] value is @ %p and is %d (0x%08x)\n", &value, value, value);
    }
}

#include <stdio.h>
#include <string.h>

int main(int argc, char *argv[]) {
/*
    In this example, there are 2-8 byte buffers
    plus a (4-byte) integer "value". 
    
    When input is given 8 bytes are written to "one", 
    eight to "two" and four bytes reserved to "value" afterwards.

    There is a remainder of 8 bytes that proceed afterwards before
    a segmentation fault is reached. This is likely the "stack frame"
    that's reserved for our variables.
*/

    int value = 5;
    char buffer_one[8], buffer_two[8];

    strcpy(buffer_one, "one");
    strcpy(buffer_two, "two");

    printf("[BEFORE] buffer one is at %p and contains \'%s\'\n", buffer_one, buffer_one);
    printf("[BEFORE] buffer two is at %p and contains \'%s\'\n", buffer_two, buffer_two);
    printf("[BEFORE] value is at %p and contains \'%d\' (0x%08x)\n", &value, value, value);

    strcpy(buffer_two, argv[1]);

    printf("[AFTER] buffer one is at %p and contains \'%s\'\n", buffer_one, buffer_one);
    printf("[AFTER] buffer two is at %p and contains \'%s\'\n", buffer_two, buffer_two);
    printf("[AFTER] value is at %p and contains \'%d\' (0x%08x)\n", &value, value, value);
}
#include <Windows.h>
#include <stdio.h>

unsigned char XORkey[] = { 0x6b,0x65,0x72,0x6e,0x65,0x6c,0x33,0x32,0x2e,0x64,0x6c,0x6c };
unsigned char data[] = "NtDelayExecution";

unsigned char XORCipher(unsigned char *data, int datalen, unsigned char *key, int keylen) {

    int j = 0;

    for (int i=0; i < datalen; i++) {
        if (j == keylen - 1) j = 0;
        data[i] = data[i] ^ key[j];
        j++;
    }
}

int main() {

    int keysize = sizeof(XORkey);
    int datasize = sizeof(data);
    data[datasize] = XORCipher(data, datasize, XORkey, keysize);
    
    for (int i=0; i < datasize; i++)
        printf("0x%02x,", data[i]);
}

